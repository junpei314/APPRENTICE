# 日報

7/9(日)

## 本日の目標

- ユーザーの登録機能を作成する

## 学習時間

- 5h

## 目標の振り返り

- ユーザーの登録機能をRailsチュートリアルを参考に作成した。ログイン機能については未実装。

## 学んだこと

- rubyではfalseとnil以外の結果が帰ってきたら基本的にtrueとみなせる。
- バグが出た時にバグを再現するためのテストを書いてから直す。
- メモ化（Memoization）とは、計算結果をメモリに保存して再利用するというプログラミングテクニックの一つ。計算コストが高いメソッドや、データベースへのクエリ結果などを一度計算したら結果を保存しておき、次回以降同じ計算を要求されたときには保存した結果を再利用することでデータベースへのリクエスト回数を減らすことができる。
    
    ```ruby
    def current_user
        if session[:user_id]
          @current_user ||= User.find_by(id: session[:user_id])
        end
    end
    ```
    
    - `@current_user`が未定義または`nil`である場合に限り、右辺の式を評価して結果を`@current_user`に代入する。
    - 次回`current_user`が呼ばれると、`@current_user`がすでに定義されているため、右辺のコードは評価されず、`@current_user`の現在の値が返ってくる。
    - ただし、メモ化された結果が期待されない形で共有されてしまったりする可能性があるため注意が必要。

## 感想

- ユーザー登録機能を実装できた。ログイン、ログアウト機能の実装も含めて明日までに実装する予定なので明日も頑張る。

## 明日の目標

- ログイン・ログアウト機能の実装
